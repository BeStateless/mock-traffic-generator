<!DOCTYPE html>
<html>
  <head>
    <title>Traffic Data</title>
  </head>
  <body>
    <script>
      const socket = new WebSocket('ws://127.0.0.1:6767', 'traffic');
      socket.onmessage = (evt) => {
        let recieved = document.getElementId('recieved');
        let br = document.createElement('br');
        let text = document.createTextNode(evt.data);
        recieved.appendChild(br);
        recieved.appendChild(text);
      }
      function send(element) {
        let input = document.getElementId(element);
        socket.send(input.value);
        input.value = '';
      }
    </script>
    <section>
      <p id='recieved'>
        <strong>Recieved Messages:</strong>
      </p>
      <form onsubmit='send("message"); return false;'>
        <input type='text' id='message'>
        <input type='submit' value='Send'>
      </form>
    </section>
  </body>
</html>
